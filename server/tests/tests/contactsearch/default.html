<!DOCTYPE html>
<style>

body {
    padding:50px;
}

div.input{
  display:inline-block;
  position:relative;
  line-height:24px;
  width:400px;
  background:rgb(240,240,240);
  line-height:24px;
  padding:4px 12px;
  color:rgb(180,180,180);
}
div.input input{
  position:absolute;
  top:0px;
  left:0px;
  height:100%;
  width:100%;
  background:transparent;
  border:none;
  outline:none;
  margin:0px;
  padding:0px;
  color:transparent;
}
div.input div label{
  color:rgb(0,0,0);
}


</style>
<html>
<head>
<meta charset="utf-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="msapplication-tap-highlight" content="no" />
<!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
<script src='./ContactBook/ModifiedTrieTree.js'></script>
<script src='./ContactBook/levenshteindistance.js'></script>
<script src='./ContactBook/ContactBook.js'></script>
<script src='./ContactBook/ContactField.js'></script>
<title>Sealed</title>


<p><button id='getall'>Print Contact</button></p>

<div id='fields'></div>


<script type='text/javascript'>

var fields = [];

function AddSearch(){
  var div = document.createElement('div');
    var input = document.createElement('div');
    input.setAttribute('class', 'input');
    input.setAttribute('placeholder', 'Enter a name or email or phone number');
    div.appendChild(input);
    var button = document.createElement('button');
    button.innerHTML = 'Use';
    div.appendChild(button);
  document.getElementById('fields').appendChild(div);
  
  var firstTime = true;
  
  var field = new ContactField(input, book);
  fields.push(field);
  button.addEventListener('click', function(){
    field.complete();
    if(!firstTime) return;
    firstTime = false;
    AddSearch();
  });
  
  
}



window.onload = function(){
  window.book = new ContactBook();
  book.add({
    lastname: 'Larco',
    firstname: 'Hunter',
    numbers: [{value:'9788772495'}],
    emails: [{value:'hjlarco@gmail.com'}]
  });
  book.add({
    lastname: 'Cantrell',
    firstname: 'Alex',
    numbers: [{value:'9783944143'}],
    emails: [{value:'alcantrell22@gmail.com'}]
  });
  book.add({
    lastname: 'Lodi',
    firstname: 'Alex',
    numbers: [{value:'9785001923'}],
    emails: [{value:'alodi@yahoo.com'}]
  });
  AddSearch();
  
  document.getElementById('getall').addEventListener('click', function(){
    for(var i=0,field; field=fields[i++];)
      if(!!field.contact)
        console.log(field.contact);
  });
}

</script>
</body>
</html>
