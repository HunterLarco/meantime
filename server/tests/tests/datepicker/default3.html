<!DOCTYPE html>
<style>



body{
  padding:0px;
  margin:0px;
  font-family:'arial';
}



#scroller{
  position:fixed;
  top:0px;
  left:0px;
  height:100%;
  width:100%;
  overflow:hidden;
}
#scroller p:nth-child(odd){
  background:rgb(240,240,240);
}
#scroller p{
  margin:0px;
  padding:0px 20px;
  line-height:30px;
}



</style>
<html>
<head>
<meta charset="utf-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="msapplication-tap-highlight" content="no" />
<!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
<title>Sealed</title>
</head>


<div id='scroller'>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
  <p>testing</p>
</div>



<script type='text/javascript'>


function SnapScroller(elem){
  var self = this;
  
  
  var mouse = {},
      friction = 0.05;
  
  
  elem.addEventListener('touchstart', MouseDown);
  
  
  function MouseDown(event){
    if(running) stopMove = true;
    
    var touch = event.touches[0];
    mouse.lastx = touch.pageX;
    mouse.lasty = touch.pageY;
    mouse.lasttime = Date.now();
    mouse.velocity = {x:0,y:0};
    document.addEventListener('touchmove', MouseMove);
    document.addEventListener('touchend', MouseUp);
  }
  
  
  var starttime, startposition, finaltime, modifier = 1, stopMove = false, running = false;
  function ContinueMove(){
    if(stopMove) return Stop();
    
    
    
    if(!starttime){
      starttime = Date.now();
      startposition = elem.scrollTop;
      var endSlope = 0.07;
      finaltime = (Math.log(endSlope) - Math.log(Math.abs(mouse.velocity.y))) / Math.log(friction);
      var finalposition = Math.round(getPosition(finaltime)),
          unit = elem.children[0].offsetHeight,
          closest = Math.round(finalposition/unit)*unit;
      modifier = (closest-startposition) / (IntergralVelocity(0, finaltime) * elem.offsetHeight);
      running = true;
      requestAnimationFrame(ContinueMove);
      return;
    }
    
    // timediff in seconds
    var timediff = (Date.now() - starttime) / 1000,
        position = getPosition(timediff);
    
    
    if(timediff >= finaltime) return Stop();
    
    
    function Stop(){
      stopMove = false;
      running = false;
      starttime = null;
      modifier = 1;
    }
    
    
    function getPosition(t){
      return startposition+modifier*IntergralVelocity(0, t) * elem.offsetHeight;
    }
    
    
    function IntergralVelocity(start, end){
      function intergrate(t){
        return Math.pow(friction, t) / Math.log(friction) * mouse.velocity.y;
      }
      return intergrate(end) - intergrate(start);
    }
    
    
    elem.scrollTop = position;
    
    
    requestAnimationFrame(ContinueMove);
  }
  
  
  
  function MouseUp(event){
    document.removeEventListener('touchmove', MouseMove);
    document.removeEventListener('touchend', MouseUp);
    
    ContinueMove();
  }
  
  
  
  function MouseMove(event){
    var touch = event.touches[0],
        delta = {
          x: mouse.lastx-touch.pageX,
          y: mouse.lasty-touch.pageY
        },
        deltaPageUnit = {
          x: delta.x / elem.offsetWidth,
          y: delta.y / elem.offsetHeight
        },
        // timediff in seconds
        timediff = (Date.now()-mouse.lasttime) / 1000,
        touch_velocity = {
          x: deltaPageUnit.x / timediff,
          y: deltaPageUnit.y / timediff
        },
        velocity = {
          x: Math.max(Math.abs(mouse.velocity.x), Math.abs(touch_velocity.x)) * (delta.x<0?-1:1),
          y: Math.max(Math.abs(mouse.velocity.y), Math.abs(touch_velocity.y)) * (delta.y<0?-1:1)
        };
    mouse.velocity = {
      x: (velocity.x+velocity.x)/2,
      y: (velocity.y+velocity.y)/2
    };
    mouse.lastx = touch.pageX;
    mouse.lasty = touch.pageY;
    mouse.lasttime = Date.now();
    
    elem.scrollTop = Math.max(0, Math.min(elem.scrollTop+delta.y, elem.scrollHeight-elem.offsetHeight));
    
    event.preventDefault();
  }
}



window.onload = function(){
  new SnapScroller(document.getElementById('scroller'));
}




</script>
</body>
</html>
